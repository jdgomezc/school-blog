---



interface Props {
    type?: 'post' | 'announcement' | 'meeting' | 'schedule';
    id: string;
    author: Author;
    title: string;
    date: Date;
    content: string;
}

const { type = 'post', id, author, title, date, content } = Astro.props;

const months: string[] = [
    'Enero',
    'Febrero',
    'Marzo',
    'Abril',
    'Mayo',
    'Junio',
    'Julio',
    'Agosto',
    'Septiembre',
    'Octubre',
    'Noviembre',
    'Diciembre'
]

// dictionary with translation to spanish of the post types
const post_types: Record<string, string> = {
    post: 'Publicación',
    announcement: 'Anuncio',
    meeting: 'Convocatoria',
    schedule: 'Cronograma'
}

const border_color: string = "border-[#ccc]"
const icon: string = "post"

---

<article class={`bg-[#eee] rounded-lg p-4 pt-8 border-1 w-96 h-72 justify-between flex flex-col relative hover:scale-105 duration-300 ease-in-out cursor-pointer ${border_color}`}>
    <!--absolute label-->
    <div class={`flex flex-row gap-2 absolute -top-4 left-4 bg-[#eee] rounded-md border-1 px-2 py-1 ${border_color}`}>
        <p>{post_types[type]}</p>
    </div>
    <section class="flex flex-row justify-between">
        <article class="flex flex-row gap-2">
            <img src={author.image} alt={author.name} class="w-10 h-10 rounded-full" />
            <section class="my-auto">
                <h2 class="leading-none text-base font-bold">{author.name}</h2>
                <p class="text-sm">{author.role}</p>
            </section>
        </article>
        <p class="text-base text-zinc-500">
            <!--get the date in the spanish format: Mar 3, 2025-->
            {months[date.getMonth()].slice(0,3)} {date.getDate()}, {date.getFullYear()}
        </p>
    </section>
    <section>
        <h1 class="leading-none font-bold text-lg mb-2">{title}</h1>
        <p class="text-base">{content}</p>
    </section>
    <section>
        <button type="button" class="bg-zinc-300 px-4 py-2 cursor-pointer">
            LEER MÁS >
        </button>
    </section>
</article>
